<!DOCTYPE html>
<html>
<head>
    <title>Purchase Details</title>
    <style>
        .navbar {background-color: #007bff; padding: 0; margin-bottom: 20px; border-radius: 0 0 8px 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.05);}
        .navbar-menu {list-style: none; margin: 0; padding: 0 20px; display: flex; align-items: center; height: 48px;}
        .navbar-menu > li {position: relative;}
        .navbar-menu > li > a {display: block; color: #fff; text-decoration: none; padding: 0 18px; line-height: 48px; font-weight: bold; transition: background 0.2s; border-radius: 4px;}
        .navbar-menu > li > a:hover, .navbar-menu > li.dropdown:hover > a {background: #0056b3;}
        .dropdown-menu {display: none; position: absolute; background: #fff; min-width: 160px; box-shadow: 0 2px 8px rgba(0,0,0,0.08); border-radius: 4px; top: 48px; left: 0; z-index: 1000; padding: 6px 0;}
        .dropdown-menu li a {color: #333; padding: 8px 18px; display: block; text-decoration: none; border-radius: 0; font-weight: normal;}
        .dropdown-menu li a:hover {background: #f2f2f2;}
        .navbar-menu > li.dropdown:hover .dropdown-menu {display: block;}
        @media (max-width: 700px) {.navbar-menu {flex-direction: column; height: auto;} .navbar-menu > li {width: 100%;} .navbar-menu > li > a {padding: 0 10px;} .dropdown-menu {position: static; box-shadow: none; min-width: 100%;}}
    </style>
</head>
<body>
    {% include '_navbar.html' %}
    <h1>Purchase Details</h1>
    {% if header_data %}
    <table border="1" cellpadding="8" cellspacing="0" style="width:100%; margin-bottom: 18px;">
        <tr>
            <th>Invoice No</th>
            <td>{{ header_data.InvoiceNo }}</td>
            <th>Invoice Date</th>
            <td>{{ header_data.InvoiceDateTime }}</td>
        </tr>
        <tr>
            <th>Supplier Name</th>
            <td>{{ header_data.SupplierName }}</td>
            <th>Print Time</th>
            <td>{{ print_time }}</td>
        </tr>
    </table>
    {% endif %}
    {% if rows %}
    <table border="1" cellpadding="8" cellspacing="0" style="width:100%; margin-bottom: 18px;">
        <thead>
            <tr>
                <th>SNo</th>
                <th>Product Name</th>
                <th>Qty</th>
                <th>Batch No</th>
                <th>Exp Date</th>
                <th>VAT</th>
                <th>MRP</th>
                <th>HSR</th>
                <th>Total</th>
            </tr>
        </thead>
        <tbody>
            {% for row in rows %}
            <tr>
                <td>{{ row.SNo }}</td>
                <td>{{ row.ProductName }}</td>
                <td>{{ row.Qty }}</td>
                <td>{{ row.BatchNo }}</td>
                <td>{{ row.ExpDate }}</td>
                <td>{{ row.VAT }}</td>
                <td>{{ row.MRP }}</td>
                <td>{{ row.HSR }}</td>
                <td>₹{{ row.Total }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <div style="font-weight: bold; font-size: 1.2rem;">Grand Total: ₹{{ grand_total }}</div>
    {% else %}
    <div>No purchase details found.</div>
    {% endif %}
</body>
</html>
